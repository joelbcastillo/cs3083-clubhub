-- Munieshwar Ramdass; Joel Castillo
-- Professor Phillis Frankl
-- CS-UY 3982
-- 6 March 2015
			-- Project Part 2

-- #2 CREATE TABLE STATEMENTS

create table Person (
	pid varchar(30) not null unique,
	passwd char(32) not null,
	fname varchar(15),
	lname varchar(15),
	email varchar(32),
	role enum,
	primary key(pid)
);

create table Advisor (
	pid varchar(30) not null unique,
	phone char(12),
	foreign key(pid) references Person(pid)
);

create table Student (
	pid varchar(30) not null unique,
	gender char(1),
	class varchar(10),
	foreign key(pid) references Person(pid)
);

create table Club (
	clubid varchar(30) not null unique,
	cname varchar(15),
	descr varchar(512),
	primary key(clubid)
);

create table Event (
	eid varchar(30) not null unique,
	ename varchar(15),
	description varchar(512),
	edatetime DATETIME,
	location,
	is_public_e Boolean,
	primary key(eid)
);


create table keywords (
	topic varchar(512)
);

create table comment (
	comment_id varchar(30) not null unique,
	ctext varchar(512),
	is_public_e Boolean,
	primary key(comment_id),
	foreign key(is_public_id) references Event(is_public_e)
);


create table advisor_of (
	pid varchar(30) not null,
	clubid varchar(30) not null,
	primary key(pid, clubid),
	foreign key(pid) references Advisor(pid),
	foreign key(clubid) references Club(clubid)
);

create table member_of (
	pid varchar(30) not null,
	clubid varchar(30) not null,
	role varchar (15),		-- NEEDS TO BE MULTI-VALUE
	primary key(pid, clubid),
	foreign key(pid) references Student(pid),
	foreign key(clubid) references Club(cludid)
);

create table sponsored_by (
	eid varchar(30) not null,
	clubid varchar(30) not null,
	primary key(eid, clubid),
	foreign key(eid) references Event(eid),
	foreign key(clubid) references Club(clubid)
);

create table club_topics (
	clubid varchar(30) not null,
	keywords varchar(512),		-- NOT SURE HOW TO REPRESENT THIS (NOT PRIMARY)
	primary key(clubid),
	foreign key(clubid) references Club(clubid)
);

create table interested_in (
	pid varchar(30) not null,
	topic varchar(512),
	primary key(pid, topic),
	foreign key(pid) references Person(pid),
	foreign key(topic) references keywords(topic)
);

create table about_club (
	clubid varchar(30) not null,
	comment_id varchar(30) not null,
	primary key(clubid, comment_id),
	foreign key(clubid) references Club(clubid),
	foreign key(comment_id) references comment(comment_id)
);

create table about_event (
	eid varchar(30) not null,
	comment_id varchar(30) not null,
	primary key(eid, comment_id),
	foreign key(clubid) references Event(eid),
	foreign key(comment_id) references comment(comment_id)
);

create table sign_up (
	pid varchar(30) not null,
	eid varchar(30) not null,
	primary key(pid, eid),
	foreign(pid) references Person(pid),
	foreign(eid) references Event(eid)
);


-- #3 INSERT STATEMENTS

-- (a)
insert into Advisor
values('Ann')
insert into Advisor
values('Bob')
insert into Club
values('1','Frisbee Club', 'Toss aerodynamics disks!'); -- HOW DO YOU SPECIFY THE ADVISOR
insert into Club
values('2','Theater Club', 'Time to Perform!'); -- HOW DO YOU SPECIFY THE ADVISOR
insert into advisor_of
values('Ann', '1')
insert into advisor_of
values('Bob', '2')

-- (b)
